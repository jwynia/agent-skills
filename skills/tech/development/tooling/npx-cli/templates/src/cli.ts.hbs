import { defineCommand, runMain } from 'citty';
import process from 'node:process';

const main = defineCommand({
	meta: {
		name: '{{binName}}',
		version: '0.0.0',
		description: '{{description}}',
	},
	args: {
		input: {
			type: 'positional',
			description: 'Input to process',
			required: true,
		},
		verbose: {
			alias: 'v',
			type: 'boolean',
			description: 'Enable verbose output',
			default: false,
		},
	},
	run({ args }) {
		if (args.verbose) {
			console.log('Verbose mode enabled');
		}
		console.log(`Processing: ${args.input}`);
	},
});

// Graceful shutdown
process.on('SIGINT', () => {
	console.log('\nInterrupted.');
	process.exit(130);
});

void runMain(main);
